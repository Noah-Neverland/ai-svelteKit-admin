# 02-示意图-认证页面

## 实现步骤：第二步 - 用户认证页面

### 2.1 登录页面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌──────────────────────────┐  ┌─────────────────────────────────┐ │
│  │                          │  │                                 │ │
│  │                          │  │      [Logo] 后台管理系统        │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │  ┌───────────────────────────┐ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │      用户登录             │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 用户名/邮箱         │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 密码                │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌──────────┐ ┌────────┐ │ │ │
│  │                          │  │  │  │ 验证码   │ │ [刷新] │ │ │ │
│  │                          │  │  │  └──────────┘ └────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ ☑ 记住我             │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │      [登录]         │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   忘记密码？         │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   还没有账号？       │ │ │ │
│  │                          │  │  │  │   立即注册           │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  └───────────────────────────┘ │ │
│  │                          │  │                                 │ │
│  │        左侧图片           │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  └──────────────────────────┘  └─────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.2 注册页面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌──────────────────────────┐  ┌─────────────────────────────────┐ │
│  │                          │  │                                 │ │
│  │                          │  │      [Logo] 后台管理系统        │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │  ┌───────────────────────────┐ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │      用户注册             │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 用户名               │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 邮箱                │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 密码                │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 确认密码            │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌──────────┐ ┌────────┐ │ │ │
│  │                          │  │  │  │ 验证码   │ │ [刷新] │ │ │ │
│  │                          │  │  │  └──────────┘ └────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ ☑ 我已阅读并同意    │ │ │ │
│  │                          │  │  │  │   用户协议和隐私政策 │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │      [注册]         │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   已有账号？         │ │ │ │
│  │                          │  │  │  │   立即登录           │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  └───────────────────────────┘ │ │
│  │                          │  │                                 │ │
│  │        左侧图片           │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  └──────────────────────────┘  └─────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.3 忘记密码页面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌──────────────────────────┐  ┌─────────────────────────────────┐ │
│  │                          │  │                                 │ │
│  │                          │  │      [Logo] 后台管理系统        │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │  ┌───────────────────────────┐ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │      忘记密码             │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  请输入您的邮箱或用户名    │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 邮箱/用户名         │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌──────────┐ ┌────────┐ │ │ │
│  │                          │  │  │  │ 验证码   │ │ [刷新] │ │ │ │
│  │                          │  │  │  └──────────┘ └────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   [发送重置链接]     │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   返回登录          │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  └───────────────────────────┘ │ │
│  │                          │  │                                 │ │
│  │        左侧图片           │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  └──────────────────────────┘  └─────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.4 重置密码页面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌──────────────────────────┐  ┌─────────────────────────────────┐ │
│  │                          │  │                                 │ │
│  │                          │  │      [Logo] 后台管理系统        │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │  ┌───────────────────────────┐ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │      重置密码             │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  请设置您的新密码          │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 新密码              │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │ 确认新密码          │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   [确认重置]        │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  │  ┌─────────────────────┐ │ │ │
│  │                          │  │  │  │   返回登录          │ │ │ │
│  │                          │  │  │  └─────────────────────┘ │ │ │
│  │                          │  │  │                           │ │ │
│  │                          │  │  └───────────────────────────┘ │ │
│  │                          │  │                                 │ │
│  │        左侧图片           │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  │                          │  │                                 │ │
│  └──────────────────────────┘  └─────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.5 验证码组件结构

```
┌─────────────────────────────────────────────────┐
│           Captcha Component                     │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌──────────────────────────────────────────┐  │
│  │        验证码显示区域                    │  │
│  │  ┌──────────────────────────────────┐  │  │
│  │  │  A B 3 C                          │  │  │
│  │  │  (图形验证码)                      │  │  │
│  │  └──────────────────────────────────┘  │  │
│  └──────────────────────────────────────────┘  │
│                    ↓                            │
│  ┌──────────────────────────────────────────┐  │
│  │        输入框                            │  │
│  │  ┌──────────────────────────────────┐  │  │
│  │  │  请输入验证码                    │  │  │
│  │  └──────────────────────────────────┘  │  │
│  └──────────────────────────────────────────┘  │
│                    ↓                            │
│  ┌──────────────────────────────────────────┐  │
│  │        操作按钮                          │  │
│  │  [刷新验证码]                            │  │
│  └──────────────────────────────────────────┘  │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 2.6 认证流程

```
用户访问
    ↓
┌─────────────────┐
│  检查登录状态   │
└─────────────────┘
    ↓
    ├─ 已登录 → 跳转首页
    │
    └─ 未登录 → 显示登录页
            ↓
    ┌─────────────────┐
    │  用户输入信息   │
    └─────────────────┘
            ↓
    ┌─────────────────┐
    │  表单验证       │
    └─────────────────┘
            ↓
    ┌─────────────────┐
    │  调用登录API    │
    └─────────────────┘
            ↓
    ┌─────────────────┐
    │  保存Token      │
    └─────────────────┘
            ↓
    ┌─────────────────┐
    │  跳转首页       │
    └─────────────────┘
```

### 2.7 实现顺序

```
步骤1: 创建认证相关组件
  ├─ components/auth/LoginForm.svelte
  ├─ components/auth/RegisterForm.svelte
  ├─ components/auth/Captcha.svelte
  └─ components/auth/ForgotPasswordForm.svelte

步骤2: 创建认证相关页面
  ├─ routes/(auth)/login/+page.svelte
  ├─ routes/(auth)/register/+page.svelte
  ├─ routes/(auth)/forgot-password/+page.svelte
  └─ routes/(auth)/reset-password/+page.svelte

步骤3: 实现认证Store
  └─ stores/auth.ts

步骤4: 实现认证Service
  └─ services/auth.service.ts

步骤5: 实现认证API
  └─ api/auth.ts

步骤6: 实现路由守卫
  └─ hooks/hooks.server.ts
```

---

**说明**：这是第二步，实现用户认证相关的页面和功能，包括登录、注册、忘记密码等功能。

